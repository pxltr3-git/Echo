---
import icons from '../data/svgs.json';

interface Props {
	title: string;
    description?: string;
    keywords?: string;
    ogUrl?: string;
    ogImage?: string;
    twitterUrl?: string;
    twitterImage?: string;
};

const { title, description, keywords, ogUrl, ogImage, twitterUrl, twitterImage } = Astro.props

const navLinks = [
    { name: "Start", href: "/", icon: icons.iconHome },
    { name: "Profile", href: "/profile", icon: icons.iconProfile },
    { name: "Capabilities", href: "/capabilities", icon: icons.iconSettings },
    { name: "Creations", href: "/creations", icon: icons.iconCreations },
    { name: "Connect", href: "/connect", icon: icons.iconConnect },
    { name: "Log", href: "/log", icon: icons.iconLog },
    { name: "Credentials", href: "/credentials", icon: icons.iconCredentials },
    { name: "FAQ", href: "/faq", icon: icons.iconFaq },
];
---

<!doctype html>
<html lang="en" class="scroll-smooth scroll-pt-20">
	<head>
		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />
		<meta name="author" content="John Ogletree" />

		<!-- Favicon -->
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={ogUrl} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={ogImage} />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={twitterUrl} />		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content={twitterImage} />
	
	</head>
	<body class="bg-bg text-text font-mono text-base leading-relaxed m-0 p-0 transition-transform duration-300 ease-in-out">
    <div class="readme-container">
        <header class="sticky top-0 z-10 flex w-full items-center gap-4 border-b border-border bg-surface p-4 px-4 md:px-8">
            <div class="flex items-center gap-2 text-xl mr-auto">
                <div class="fill-text-light w-4 h-4">
                    <Fragment set:html={icons.iconBrand} />
                </div>
                <a href="/" class="font-bold no-underline hover:underline text-gray-400 opacity-50 transition-colors duration-200 hover:text-white hover:opacity-100">Echo</a>
            </div>
            <nav class="hidden md:flex flex-wrap justify-center gap-x-4 gap-y-2 md:items-center md:gap-8">
                {navLinks.map((link) => (
                    <a href={link.href} class="flex items-center gap-2 text-gray-400 opacity-50 transition-colors duration-200 hover:text-white hover:opacity-100">
                        <div class="fill-text-light w-4 h-4">
                            <Fragment set:html={link.icon} />
                        </div>
                        <span>{link.name}</span>
                    </a>
                ))}
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-text focus:outline-none">
                <div class="h-6 w-6">
                    <Fragment set:html={icons.iconMenu} />
                </div>
            </button>
        </header>
        <!-- Mobile Menu Overlay (hidden by default) -->
        <div id="mobile-menu-overlay" class="md:hidden fixed inset-0 bg-surface bg-opacity-95 z-40 hidden">
            <div class="flex justify-end p-4">
                <button id="close-mobile-menu" class="text-text focus:outline-none">
                    <div class="h-6 w-6">
                        <Fragment set:html={icons.iconClose} />
                    </div>
                </button>
            </div>
            <nav class="flex flex-col items-center gap-6 py-8">
                {navLinks.map((link) => (
                    <a href={link.href} class="flex items-center gap-2 text-gray-400 text-2xl opacity-50 transition-colors duration-200 hover:text-white hover:opacity-100">
                        <div class="fill-text-light w-4 h-4">
                            <Fragment set:html={link.icon} />
                        </div>
                        <span>{link.name}</span>
                    </a>
                ))}
            </nav>
        </div>

        <main class="transition-filter duration-300 ease-in-out px-[10px]">
            <slot />
        </main>
    </div>

</body>
</html>

<script>
    import '../scripts/mobile-menu.js';
    import '../scripts/page-animations.js';
    import '../scripts/active-nav-link.js';
</script>